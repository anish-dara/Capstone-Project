<!DOCTYPE html>
<html>
<head>
    <title>NFL Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/"><i class="fas fa-football-ball"></i> NFL Dashboard</a>
            <div class="navbar-nav">
                <a class="nav-link" href="/">Leaders</a>
                <a class="nav-link" href="/players">Players</a>
            </div>
        </div>
    </nav>
    
    <div class="container mt-4">
        <h1 class="mb-4">NFL 2023 Season Leaders - {{ current_stat }}</h1>
        
        <div class="card mb-4">
            <div class="card-header">
                <h5><i class="fas fa-filter"></i> Select Stat Category</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <h6>Offense</h6>
                        <a href="/?stat=passing_yards" class="btn {% if selected_stat == 'passing_yards' %}btn-primary{% else %}btn-outline-primary{% endif %} btn-sm me-1 mb-1">Pass Yards</a>
                        <a href="/?stat=rushing_yards" class="btn {% if selected_stat == 'rushing_yards' %}btn-primary{% else %}btn-outline-primary{% endif %} btn-sm me-1 mb-1">Rush Yards</a>
                        <a href="/?stat=receiving_yards" class="btn {% if selected_stat == 'receiving_yards' %}btn-primary{% else %}btn-outline-primary{% endif %} btn-sm me-1 mb-1">Rec Yards</a>
                    </div>
                    <div class="col-md-4">
                        <h6>Touchdowns</h6>
                        <a href="/?stat=pass_tds" class="btn {% if selected_stat == 'pass_tds' %}btn-primary{% else %}btn-outline-primary{% endif %} btn-sm me-1 mb-1">Pass TDs</a>
                        <a href="/?stat=rush_tds" class="btn {% if selected_stat == 'rush_tds' %}btn-primary{% else %}btn-outline-primary{% endif %} btn-sm me-1 mb-1">Rush TDs</a>
                        <a href="/?stat=rec_tds" class="btn {% if selected_stat == 'rec_tds' %}btn-primary{% else %}btn-outline-primary{% endif %} btn-sm me-1 mb-1">Rec TDs</a>
                    </div>
                    <div class="col-md-4">
                        <h6>Defense & Other</h6>
                        <a href="/?stat=sacks" class="btn {% if selected_stat == 'sacks' %}btn-primary{% else %}btn-outline-primary{% endif %} btn-sm me-1 mb-1">Sacks</a>
                        <a href="/?stat=tackles" class="btn {% if selected_stat == 'tackles' %}btn-primary{% else %}btn-outline-primary{% endif %} btn-sm me-1 mb-1">Tackles</a>
                        <a href="/?stat=interceptions" class="btn {% if selected_stat == 'interceptions' %}btn-primary{% else %}btn-outline-primary{% endif %} btn-sm me-1 mb-1">INTs</a>
                        <a href="/?stat=fgm" class="btn {% if selected_stat == 'fgm' %}btn-primary{% else %}btn-outline-primary{% endif %} btn-sm me-1 mb-1">FG Made</a>
                        <a href="/?stat=fantasy_points" class="btn {% if selected_stat == 'fantasy_points' %}btn-primary{% else %}btn-outline-primary{% endif %} btn-sm me-1 mb-1">Fantasy</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-trophy"></i> Top 20 - {{ current_stat }}</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead class="table-dark">
                            <tr>
                                <th>Rank</th>
                                <th>Player</th>
                                <th>Position</th>
                                <th>Team</th>
                                <th>{{ current_stat }}</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for leader in leaders %}
                            <tr>
                                <td><strong>{{ loop.index }}</strong></td>
                                <td><a href="/player/{{ leader.player_id }}" class="text-decoration-none">{{ leader.full_name }}</a></td>
                                <td>
                                    <span class="badge 
                                        {% if leader.position == 'QB' %}bg-success
                                        {% elif leader.position == 'RB' %}bg-warning text-dark
                                        {% elif leader.position == 'WR' %}bg-info
                                        {% elif leader.position == 'TE' %}bg-primary
                                        {% elif leader.position in ['DE', 'LB', 'DT'] %}bg-danger
                                        {% elif leader.position == 'K' %}bg-secondary
                                        {% else %}bg-light text-dark{% endif %}">
                                        {{ leader.position }}
                                    </span>
                                </td>
                                <td>{{ leader.team }}</td>
                                <td><strong>{{ "%.1f"|format(leader.total_stat or 0) }}</strong></td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</body>
</html>